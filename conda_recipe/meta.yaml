
{% set module = environ.get('MODULE', 'mss')  %}
{% set project = load_file_data('requirements.d/mswms.toml', from_recipe_dir=False).get('project') %}
{% set name = project.get('name') %}
{% set summary = project.get('description') %}

{% set version = project.get('version') %}
{% set maintainers = project.get('maintainers') %}

{% set source_patches = project.get('source_patches') %}

{% set build_deps = project.get('build_dependencies') %}
{% set host_deps = project.get('host_dependencies') %}
{% set run_deps = project.get('dependencies') %}
{% set run_constrained = project.get('run_constrained') %}


{% set test_imports = project.get('test_imports') %}
{% set test_commands = project.get('test_commands') %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  path: ../
  patches:
  {% for patch in source_patches %}
    - {{ patch }}
  {% endfor %}

build:
  number: 0

requirements:
  build:
    {% for dep in build_deps %}
    - {{ dep }}
    {% endfor %}
  host:
    {% for dep in host_deps %}
    - {{ dep }}
    {% endfor %}
  run:
    {% for dep in run_deps %}
    - {{ dep }}
    {% endfor %}
  run_constrained:
    {% for dep in run_constrained %}
    - {{ dep }}
    {% endfor %}
  
test:
  imports:
    {% for imp in test_imports %}
    - {{ imp }}
    {% endfor %}
  commands:
    {% for cmd in test_commands %}
    - {{ cmd }}
    {% endfor %}
about:
  summary: {{ summary }}
  home: https://github.com/open-mss/MSS
  license: Apache-2.0
  license_family: APACHE
  license_file: LICENSE
  description: |
    MSS - Mission Support System

    Documentation:
    * https://mss.rtfd.io
    * https://gmd.copernicus.org/articles/15/8983/2022/gmd-15-8983-2022.pdf
    * http://www.geosci-model-dev.net/5/55/2012/gmd-5-55-2012.pdf

    Software for planning research Aircraft Missions.
    For discussion of the possibilites of the research flights,
    the Mission Support System (MSS) was developed.
    This software helps to review a big amount of metereological and
    model project by viewing the forecasted parameters of interest along possible regions
    of a proposed flight path. Data and possible flight paths can
    be displayed on a hoizontal view (map projection) or on a vertical
    view (along the proposed flight path). Flight paths can be constructed
    and modified on these views. Exchange through a waypoint table is also possible.

extra:
  recipe-maintainers:
  {% for maintainer in maintainers %}
    - {{ maintainer.get('name') }}
  {% endfor %}

